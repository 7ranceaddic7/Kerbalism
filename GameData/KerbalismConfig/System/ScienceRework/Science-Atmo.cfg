//==============================================================================
// CURVE
//==============================================================================

@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
  curve										//Flying High, 1 Hour, no biomes.
  {
    ECCost = 1.18
    size = 1627
    duration = 1892							// 30-ish min
    CrewRequirement = Pilot
  }
}

EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_CURVE
	title = #kerbalism-experiment-curve-title
  baseValue = 21

  KERBALISM_EXPERIMENT
	{
    Situation = FlyingHigh
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[kerbalism_CURVE]]:NEEDS[FeatureScience]:AFTER[KerbalismDefault]
{
	dataScale = #$@KERBALISM_EXPERIMENT_VALUES/curve/size$
	@dataScale /= #$baseValue$
  scienceCap = #$baseValue$
}

@PART[kerbalism-experiment-curve]:NEEDS[FeatureScience]:AFTER[KerbalismDefault]
{
  @MODULE[Experiment]
  {
    data_rate = #$@KERBALISM_EXPERIMENT_VALUES/curve/size$
    @data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/curve/duration$
    ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/curve/ECCost$
  }
}

//==============================================================================
// WING
//==============================================================================

@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
  wing										//Flying Low, biomes. reasonably short.
	{
		ECCost = 0.8
		size = 38
		duration = 627							// 10-ish minutes
	}
}

EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_WING
	title = #kerbalism-experiment-wing-title
  baseValue = 11

  KERBALISM_EXPERIMENT
	{
    Situation = FlyingLow@Biomes
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[kerbalism_WING]]:NEEDS[FeatureScience]:AFTER[KerbalismDefault]
{
	dataScale = #$@KERBALISM_EXPERIMENT_VALUES/wing/size$
	@dataScale /= #$baseValue$
  scienceCap = #$baseValue$
}

@PART[kerbalism-experiment-wing]:NEEDS[FeatureScience]:AFTER[KerbalismDefault]
{
  @MODULE[Experiment]
  {
    data_rate = #$@KERBALISM_EXPERIMENT_VALUES/wing/size$
    @data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/wing/duration$
    ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/wing/ECCost$
  }
}


//EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
//{
//	id = kerbalism_CLOUD
//	title = #kerbalism-experiment-cloud-title
//	baseValue = 40
//	scienceCap = 40
//	dataScale = 1
//
//  KERBALISM_EXPERIMENT
//	{
//    Situation = FlyingHigh@Biomes
//	}
//}
//
// Atmo experiments should be reasonably short, as they require manual piloting (can't do them in the background)
//
//@KERBALISM_GROUP_SETTINGS:NEEDS[FeatureScience]
//{
//	SpectroVariometer							// other parameters are configured by StockExperiments.cfg
//	{
//		SetupMass = 0.2 						// stock mass of Spectro-Variometer
//		SetupCost = 6500						// stock cost of Spectro-Variometer
//		UnlockTech = scienceTech				// same tech as stock Spectro-Variometer
//		CrewRequirement =
//	}
//
//	PresMatBarometer							// other parameters are configured by StockExperiments.cfg
//	{
//		SetupMass = 0.005						// stock mass of Spectro-Variometer
//		SetupCost = 880							// stock cost of Spectro-Variometer
//		UnlockTech = survivability				// same tech as stock Spectro-Variometer
//		CrewRequirement =
//	}
//
//	CLOUD										//Flying High, Biomes. 20m or so. Due to duration + biomes, will probably need multiple passes per biome.
//	{
//		ECCost = 5.13
//		size = 185
//		value = 12								// meh value due to biomes, but more than WING due to high atmo and duration.
//		duration = 1200							// 20m
//		SetupMass = 0.015
//		SetupCost = 3290
//		UnlockTech = supersonicFlight
//		requirements =
//		CrewRequirement = Pilot:3
//		ResourceRates =
//	}
//}
