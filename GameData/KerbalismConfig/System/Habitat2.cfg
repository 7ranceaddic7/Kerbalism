@PART[*]:HAS[!MODULE[ModuleKsmHabitat],#CrewCapacity[>0],!MODULE[KerbalSeat]]:NEEDS[FeatureHabitat]:FOR[KerbalismDefault]
{
  !MODULE[Habitat] {}
  !MODULE[Comfort] {}

	MODULE
	{
    name = ModuleKsmHabitat
	}
}

@PART[mk1pod,mk1pod_v2]:NEEDS[FeatureHabitat]:AFTER[KerbalismDefault]
{
	@title ^= :(.)$:$0 (UNPRESSURIZED) :
	@description ^= :(.)$:$0\n\n<color=orange>Unpressurized.</color> Bring your own space suit. :

	@MODULE[ModuleKsmHabitat]
	{
		canPressurize = false
	}
}

@PART[InflatableAirlock]:NEEDS[FeatureHabitat]:AFTER[KerbalismDefault]
{
  @CrewCapacity = 1

  !MODULE[ModuleAnimateGeneric] {}
  !MODULE[ModuleDockingNode] {} // note : we will need to do some patching to support deployable docking nodes...

	MODULE
	{
    name = ModuleKsmHabitat
		deployAnim = AirlockDeploy
	}
}

@PART[kerbalism-gravityring]:NEEDS[FeatureHabitat]:AFTER[KerbalismDefault]
{
	@MODULE[ModuleKsmHabitat]
	{
    deployAnim = open
    rotateAnim = rotate
		volume = 65.0
		surface = 95.0
	}
}

+PART[kerbalism-gravityring]:NEEDS[FeatureHabitat]:AFTER[KerbalismDefault]
{
  @name = gravityRingInflatable
  
	@MODULE[ModuleKsmHabitat]
	{
    deployWithPressure = true
	}
}
@PART[kerbalEVA*]:HAS[@MODULE[ModuleTripLogger]]:FOR[KerbalismDefault]
{
	MODULE
	{
    name = ModuleKsmHabitat
    volume = 0.1
    surface = 1.0
    canPressurize = false
    maxShieldingFactor = 0.0
	}
}

@PART[sspx-inflatable-centrifuge-125-1]:NEEDS[StationPartsExpansionRedux,FeatureComfort]:AFTER[KerbalismDefault]
{
  MODULE
	{
    name = ModuleKsmHabitat
    deployAnim = Expand
    deployAnimReverse = true
    
    rotateAnim = SpinCenter
    rotateIsTransform = true
    rotateSpinRate = 42.0
    
    counterweightAnim = SpinCenterCounter
    counterweightIsTransform = true
    counterweightIsReversed = true
    counterweightSpinRate = 84.0
    counterweightAccelerationRate = 2.0
    
    
		volume = 36.0
		surface = 85.0
	}
}