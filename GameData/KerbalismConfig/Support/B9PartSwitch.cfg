// Part switcher tank types

B9_TANK_TYPE
{
	name = Food
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = BrightOlive

	RESOURCE
	{
		name = Food
		unitsPerVolume = 1
	}
}

B9_TANK_TYPE
{
	name = Water
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = Azure

	RESOURCE
	{
		name = Water
		unitsPerVolume = 1
	}
}

B9_TANK_TYPE
{
	name = Supplies
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = BrightOlive
  secondaryColor = Azure

	RESOURCE
	{
		name = Food
		unitsPerVolume = 0.7221584
	}
	RESOURCE
	{
		name = Water
		unitsPerVolume = 0.2778416
	}
}

B9_TANK_TYPE
{
	name = Waste
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = BabyShitBrown

	RESOURCE
	{
		name = Waste
		unitsPerVolume = 1
		percentFilled = 0
	}
}

B9_TANK_TYPE
{
	name = WasteWater
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = EggShell

	RESOURCE
	{
		name = WasteWater
		unitsPerVolume = 1
		percentFilled = 0
	}
}

B9_TANK_TYPE
{
	name = Sewage
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = BabyShitBrown
	secondaryColor = EggShell

	RESOURCE
	{
		name = Waste
		unitsPerVolume = 0.4946378
		percentFilled = 0
	}
	RESOURCE
	{
		name = WasteWater
		unitsPerVolume = 0.5053622
		percentFilled = 0
	}
}

B9_TANK_TYPE
{
	name = Oxygen
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = AquaBlue

	RESOURCE
	{
		name = Oxygen
		unitsPerVolume = 200
	}
}

B9_TANK_TYPE
{
	name = Nitrogen
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = BlueyGrey

	RESOURCE
	{
		name = Nitrogen
		unitsPerVolume = 180
	}
}

B9_TANK_TYPE
{
	name = Hydrogen
	tankMass =  0.00010627500
	tankCost = 0.18
	primaryColor = Dandelion

	RESOURCE
	{
		name = Hydrogen
		unitsPerVolume = 700
	}
}

B9_TANK_TYPE
{
	name = Ammonia
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = EmeraldGreen

	RESOURCE
	{
		name = Ammonia
		unitsPerVolume = 35
	}
}

B9_TANK_TYPE
{
	name = CarbonDioxide
	tankMass =  0.00010627500
	tankCost = 0.15
	primaryColor = LightMauve

	RESOURCE
	{
		name = CarbonDioxide
		unitsPerVolume = 60
	}
}

B9_TANK_TYPE
{
	name = XenonGas
	tankMass =  0.00010627500
	tankCost = 0.25
  primaryColor = Manilla

	RESOURCE
	{
		name = XenonGas
		unitsPerVolume = 85
		// see https://www.cobham.com/mission-systems/composite-pressure-solutions/space-systems/xenon-propellant-tank-datasheet/
	}
}

// old kerbalism containers, phasing out since kerbalism 3.2
@PART[kerbalism-container-inline-0625,kerbalism-container-inline-125,kerbalism-container-inline-250,kerbalism-container-inline-375]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
	!MODULE[Configure] {}

  MODULE
  {
    name = ModuleB9PartSwitch
    moduleID = fuelSwitch
    baseVolume = #$../ContainerVolume$
    switcherDescription = Contents

    SUBTYPE
    {
      name = Supplies
      title = Supplies
      tankType = Supplies
    }
    SUBTYPE
    {
      name = Food
      title = Food
      tankType = Food
    }
    SUBTYPE
    {
      name = Water
      title = Water
      tankType = Water
    }
    SUBTYPE
    {
      name = Sewage
      title = Sewage
      tankType = Sewage
    }
    SUBTYPE
    {
      name = Waste
      title = Waste
      tankType = Waste
    }
    SUBTYPE
    {
      name = WasteWater
      title = Wet Waste
      tankType = WasteWater
    }
  }
}

// TAC inline containers, phasing out since Kerablism 3.4
@PART[kerbalism-container-inline-tac-*]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
	!MODULE[Configure] {}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = fuelSwitch
		baseVolume = #$../ContainerVolume$
		switcherDescription = Contents

		SUBTYPE
		{
			name = Supplies
			title = Supplies
			tankType = Supplies
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportContainers/SuppliesTexture
			}
		}
		SUBTYPE
		{
			name = Food
			title = Food
			tankType = Food
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportContainers/FoodTexture
			}
		}
		SUBTYPE
		{
			name = Water
			title = Water
			tankType = Water
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportContainers/WaterTexture
			}
		}

		SUBTYPE
		{
			name = Oxygen
			title = Oxygen
			tankType = Oxygen
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportContainers/OxygenTexture
			}
		}

		SUBTYPE
		{
			name = Sewage
			title = Sewage
			tankType = Sewage
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportContainers/SewageTexture
			}
		}
		SUBTYPE
		{
			name = Waste
			title = Waste
			tankType = Waste
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportContainers/WasteTexture
			}
		}
		SUBTYPE
		{
			name = WasteWater
			title = Wet Waste
			tankType = WasteWater
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportContainers/WasteWaterTexture
			}
		}
	}
}

// TAC radial containers, phasing out since Kerbalism 3.4
@PART[kerbalism-container-hex*]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
	!MODULE[Configure] {}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = fuelSwitch
		baseVolume = #$../ContainerVolume$
		switcherDescription = Contents

		SUBTYPE
		{
			name = Supplies
			title = Supplies
			tankType = Supplies
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportHexCans/SuppliesTexture
			}
		}
		SUBTYPE
		{
			name = Food
			title = Food
			tankType = Food
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportHexCans/FoodTexture
			}
		}
		SUBTYPE
		{
			name = Water
			title = Water
			tankType = Water
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportHexCans/WaterTexture
			}
		}

		SUBTYPE
		{
			name = Oxygen
			title = Oxygen
			tankType = Oxygen
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportHexCans/OxygenTexture
			}
		}

		SUBTYPE
		{
			name = Sewage
			title = Sewage
			tankType = Sewage
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportHexCans/SewageTexture
			}
		}
		SUBTYPE
		{
			name = Waste
			title = Waste
			tankType = Waste
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportHexCans/WasteTexture
			}
		}
		SUBTYPE
		{
			name = WasteWater
			title = Wet Waste
			tankType = WasteWater
			TEXTURE {
				texture = KerbalismConfig/Parts/TacLifeSupport/TacLifeSupportHexCans/WasteWaterTexture
			}
		}
	}
}

@PART[kerbalism-container-radial-box-prosemian-*]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
	!MODULE[Configure] {}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = fuelSwitch
		baseVolume = #$../ContainerVolume$
		switcherDescription = Contents

		SUBTYPE
		{
			name = Supplies
			title = Supplies
			tankType = Supplies
		}
		SUBTYPE
		{
			name = Food
			title = Food
			tankType = Food
		}
		SUBTYPE
		{
			name = Water
			title = Water
			tankType = Water
		}

		SUBTYPE
		{
			name = Oxygen
			title = Oxygen
			tankType = Oxygen
		}

		SUBTYPE
		{
			name = Sewage
			title = Sewage
			tankType = Sewage
		}
		SUBTYPE
		{
			name = Waste
			title = Waste
			tankType = Waste
		}
		SUBTYPE
		{
			name = WasteWater
			title = Wet Waste
			tankType = WasteWater
		}
	}
}

// old radial containers, phasing out
@PART[kerbalism-container-radial-small,kerbalism-container-radial-medium,kerbalism-container-radial-big,kerbalism-container-radial-huge]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
  !MODULE[Configure] {}

  MODULE
  {
    name = ModuleB9PartSwitch
    moduleID = fuelSwitch
    baseVolume = #$../ContainerVolume$
    switcherDescription = Contents

    SUBTYPE
    {
      name = Oxygen
      title = Oxygen
      tankType = Oxygen
    }
    SUBTYPE
    {
      name = Nitrogen
      title = Nitrogen
      tankType = Nitrogen
    }
    SUBTYPE
    {
      name = Hydrogen
      title = Hydrogen
      tankType = Hydrogen
    }
    SUBTYPE
    {
      name = Ammonia
      title = Ammonia
      tankType = Ammonia
    }
    SUBTYPE
    {
      name = CarbonDioxide
      title = CO2
      tankType = CarbonDioxide
    }
    SUBTYPE
    {
      name = XenonGas
      title = Xenon Gas
      tankType = XenonGas
    }
  }
}

@PART[kerbalism-container-radial-pressurized-prosemian-*]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
  !MODULE[Configure] {}

  MODULE
  {
    name = ModuleB9PartSwitch
    moduleID = fuelSwitch
    baseVolume = #$../ContainerVolume$
    switcherDescription = Contents

    SUBTYPE
    {
      name = Oxygen
      title = Oxygen
      tankType = Oxygen
    }
    SUBTYPE
    {
      name = Nitrogen
      title = Nitrogen
      tankType = Nitrogen
    }
    SUBTYPE
    {
      name = Hydrogen
      title = Hydrogen
      tankType = Hydrogen
    }
    SUBTYPE
    {
      name = Ammonia
      title = Ammonia
      tankType = Ammonia
    }
    SUBTYPE
    {
      name = CarbonDioxide
      title = CO2
      tankType = CarbonDioxide
    }
    SUBTYPE
    {
      name = XenonGas
      title = Xenon Gas
      tankType = XenonGas
    }
  }
}

// leaving this here for now because this was the place where the old B9PS
// config lived. this should go into the profile.
@PART[kerbalism-container-inline-prosemian-full-*]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Left
		moduleID = meshSwitchLeft
		affectDragCubes = false
		affectFARVoxels = false
		parentID = fuelSwitch

		TankTransform = Side_tanksL
		GeneratorTransform = GeneratorL
		ConverterAddedMass = #$../ConverterAddedMass$
		ConverterAddedCost = #$../ConverterAddedCost$
		TankVolume = #$../TankVolume$
		TankAddedMass = #$../TankAddedMass$
		TankAddedCost = #$../TankAddedCost$
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Front
		moduleID = meshSwitchFront
		affectDragCubes = false
		affectFARVoxels = false
		parentID = fuelSwitch

		TankTransform = Side_tanksF
		GeneratorTransform = GeneratorF
		ConverterAddedMass = #$../ConverterAddedMass$
		ConverterAddedCost = #$../ConverterAddedCost$
		TankVolume = #$../TankVolume$
		TankAddedMass = #$../TankAddedMass$
		TankAddedCost = #$../TankAddedCost$
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Right
		moduleID = meshSwitchRight
		affectDragCubes = false
		affectFARVoxels = false
		parentID = fuelSwitch

		TankTransform = Side_tanksR
		GeneratorTransform = GeneratorR
		ConverterAddedMass = #$../ConverterAddedMass$
		ConverterAddedCost = #$../ConverterAddedCost$
		TankVolume = #$../TankVolume$
		TankAddedMass = #$../TankAddedMass$
		TankAddedCost = #$../TankAddedCost$
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Back
		moduleID = meshSwitchFront
		affectDragCubes = false
		affectFARVoxels = false
		parentID = fuelSwitch

		TankTransform = Side_tanksB
		GeneratorTransform = GeneratorB
		ConverterAddedMass = #$../ConverterAddedMass$
		ConverterAddedCost = #$../ConverterAddedCost$
		TankVolume = #$../TankVolume$
		TankAddedMass = #$../TankAddedMass$
		TankAddedCost = #$../TankAddedCost$
	}

	MODULE
	{
		name = KSMProcessController
		id = GeneratorF
		capacity = #$../ConverterCapacity$
	}
	MODULE
	{
		name = KSMProcessController
		id = GeneratorB
		capacity = #$../ConverterCapacity$
	}
	MODULE
	{
		name = KSMProcessController
		id = GeneratorR
		capacity = #$../ConverterCapacity$
	}
	MODULE
	{
		name = KSMProcessController
		id = GeneratorL
		capacity = #$../ConverterCapacity$
	}
}

@PART[kerbalism-container-inline-prosemian-half-*]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Left
		moduleID = meshSwitchLeft
		affectDragCubes = false
		affectFARVoxels = false
		parentID = fuelSwitch

		TankTransform = Side_tanksL
		GeneratorTransform = GeneratorL
		ConverterAddedMass = #$../ConverterAddedMass$
		ConverterAddedCost = #$../ConverterAddedCost$
		TankVolume = #$../TankVolume$
		TankAddedMass = #$../TankAddedMass$
		TankAddedCost = #$../TankAddedCost$
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Right
		moduleID = meshSwitchRight
		affectDragCubes = false
		affectFARVoxels = false
		parentID = fuelSwitch

		TankTransform = Side_tanksR
		GeneratorTransform = GeneratorR
		ConverterAddedMass = #$../ConverterAddedMass$
		ConverterAddedCost = #$../ConverterAddedCost$
		TankVolume = #$../TankVolume$
		TankAddedMass = #$../TankAddedMass$
		TankAddedCost = #$../TankAddedCost$
	}

	MODULE
	{
		name = KSMProcessController
		id = GeneratorR
		capacity = #$../ConverterCapacity$
	}
	MODULE
	{
		name = KSMProcessController
		id = GeneratorL
		capacity = #$../ConverterCapacity$
	}
}

@PART[kerbalism-container-inline-prosemian-*]:NEEDS[B9PartSwitch,ProfileDefault]:AFTER[KerbalismDefault]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = fuelSwitch
		switcherDescription = Tank Content
		affectDragCubes = false
		affectFARVoxels = false

		SUBTYPE
		{
			name = Supplies
			title = Supplies
			tankType = Supplies
		}
		SUBTYPE
		{
			name = Food
			title = Food
			tankType = Food
		}
		SUBTYPE
		{
			name = Water
			title = Water
			tankType = Water
		}
		SUBTYPE
		{
			name = Sewage
			title = Sewage
			tankType = Sewage
		}
		SUBTYPE
		{
			name = Waste
			title = Waste
			tankType = Waste
		}
		SUBTYPE
		{
			name = WasteWater
			title = Wet Waste
			tankType = WasteWater
		}
	}

	@MODULE[ModuleB9PartSwitch]:HAS[#TankTransform],*
	{
		SUBTYPE
		{
			name = tank
			title = Tank
			primaryColor = white
			transform = #$../TankTransform$
			volumeAddedToParent = #$../TankVolume$
			addedMass = #$../TankAddedMass$
			addedCost = #$../TankAddedCost$
			MODULE
			{
				IDENTIFIER {
					name = KSMProcessController
					id = #$../../../GeneratorTransform$
				}
				DATA {
					resource =
					title =
				}
			}
		}
		SUBTYPE
		{
			name = empty
			title = Empty
			primaryColor = KSPNeutralUIGrey
			MODULE
			{
				IDENTIFIER {
					name = KSMProcessController
					id = #$../../../GeneratorTransform$
				}
				DATA {
					resource =
					title =
				}
			}
		}
		SUBTYPE
		{
			name = _Scrubber
			title = #KERBALISM_Scrubber_title
			descriptionSummary = #KERBALISM_Scrubber_desc
			primaryColor = LightMauve
			secondaryColor = AquaBlue
			transform = #$../GeneratorTransform$
			addedMass = #$../ConverterAddedMass$
			addedCost = #$../ConverterAddedCost$
			MODULE
			{
				IDENTIFIER {
					name = KSMProcessController
					id = #$../../../GeneratorTransform$
				}
				DATA {
					resource = #$../../name$
					title = #$../../title$
					running = true
				}
			}
		}
		SUBTYPE
		{
			name = _PressureControl
			title = #KERBALISM_PressureControl_title
			descriptionSummary = #KERBALISM_PressureControl_desc
			primaryColor = AlmostBlack
			secondaryColor = AquaBlue
			transform = #$../GeneratorTransform$
			addedMass = #$../ConverterAddedMass$
			addedCost = #$../ConverterAddedCost$
			MODULE
			{
				IDENTIFIER {
					name = KSMProcessController
					id = #$../../../GeneratorTransform$
				}
				DATA {
					resource = #$../../name$
					title = #$../../title$
					running = true
				}
			}
		}
		SUBTYPE
		{
			name = _WaterRecycler
			title = #KERBALISM_WaterRecycler_title
			descriptionSummary = #KERBALISM_WaterRecycler_desc
			primaryColor = EggShell
			secondaryColor = Azure
			transform = #$../GeneratorTransform$
			addedMass = #$../ConverterAddedMass$
			addedCost = #$../ConverterAddedCost$
			MODULE
			{
				IDENTIFIER {
					name = KSMProcessController
					id = #$../../../GeneratorTransform$
				}
				DATA {
					resource = #$../../name$
					title = #$../../title$
					running = true
				}
			}
		}
		SUBTYPE
		{
			name = _WasteProcessor
			title = #KERBALISM_WasteProcessor_title
			descriptionSummary = #KERBALISM_WasteProcessor_desc
			primaryColor = BabyShitBrown
			transform = #$../GeneratorTransform$
			addedMass = #$../ConverterAddedMass$
			addedCost = #$../ConverterAddedCost$
			MODULE
			{
				IDENTIFIER {
					name = KSMProcessController
					id = #$../../../GeneratorTransform$
				}
				DATA {
					resource = #$../../name$
					title = #$../../title$
					running = true
				}
			}
		}
		SUBTYPE
		{
			name = _MonopropFuelCell
			title = #KERBALISM_MonopropO2FuelCell_title
			descriptionSummary = #KERBALISM_MonopropO2FuelCell_desc2
			primaryColor = ResourceColorMonoPropellant
			secondaryColor = ResourceColorElectricChargePrimary
			transform = #$../GeneratorTransform$
			addedMass = #$../ConverterAddedMass$
			addedCost = #$../ConverterAddedCost$
			MODULE
			{
				IDENTIFIER {
					name = KSMProcessController
					id = #$../../../GeneratorTransform$
				}
				DATA {
					resource = #$../../name$
					title = #$../../title$
					running = false
				}
			}
		}
	}
}
