// ====================================================================================================================================================================================================================================
// ====================================================================================================================================================================================================================================
														//THERE IS NOTHING TO BE TWEAKED IN THIS CONFIG! ALL TWEAKS SHOULD BE DONE FROM TWEAKABLES FOLDER!
// ====================================================================================================================================================================================================================================
// ====================================================================================================================================================================================================================================

// ============================================================================
// Replacing stock experiments with our own, one by one.
// Affects all parts that use both the stock module AND stock experiments.
// ============================================================================
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[atmosphereAnalysis]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[atmosphereAnalysis]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = atmosphereAnalysis
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[mysteryGoo]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[mysteryGoo]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = mysteryGoo
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[mobileMaterialsLab]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[mobileMaterialsLab]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = mobileMaterialsLab
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[seismicScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[seismicScan]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = seismicScan
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[barometerScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[barometerScan]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = barometerScan
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[gravityScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[gravityScan]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = gravityScan
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[temperatureScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[temperatureScan]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = temperatureScan
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[infraredTelescope]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[infraredTelescope]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = infraredTelescope
	}
}
@PART[kerbalEVA*]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[surfaceSample]]	{}
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[evaReport]]		{}
	MODULE
	{
		name = Experiment
		experiment_id = surfaceSample
	}
	MODULE
	{
		name = Experiment
		experiment_id = evaReport
	}
}
// @PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[asteroidSample]]]:NEEDS[FeatureScience]:FOR[Kerbalism]					//needs proper implementation before this can be replaced.
// {
	// !MODULE[ModuleScienceExperiment]:HAS[#experimentID[asteroidSample]]	{}
	// MODULE
	// {
		// name = Experiment
		// experiment_id = asteroidSample
	// }
// }
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[crewReport]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[crewReport]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = crewReport
	}
}
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[geigerCounter]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[geigerCounter]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = geigerCounter
	}
}
// ============================================================================
// Reconfigure stock experiments(avoiding a global nuke to keep people happy)
// strongly recommendeded to not change anything in this section
// Separate from above due to Configure Groups.
// ============================================================================
@PART[*]:HAS[@MODULE[Experiment]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@MODULE[Experiment]:HAS[#experiment_id[crewReport]]
	{
		%experiment_description = A brief situation report of dubious relevance and accuracy.
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/crewReport/ECCost$
		%crew_operate = True
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/crewReport/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/crewReport/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/crewReport/duration$
	}

	@MODULE[Experiment]:HAS[#experiment_id[surfaceSample]]
	{
		%sample_collecting = True
		%sample_reservoir = 0
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/requirements$
		%sample_mass = #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/SampleMass$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/duration$
	}

	@MODULE[Experiment]:HAS[#experiment_id[evaReport]]
	{
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/evaReport/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/evaReport/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/evaReport/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/evaReport/requirements$
		%crew_operate = True
	}

	@MODULE[Experiment]:HAS[#experiment_id[mysteryGoo]]
	{
		%experiment_description = Goo trapped in a container so that it won't run away
		%sample_mass = #$@KERBALISM_EXPERIMENT_VALUES/mysteryGoo/SampleMass$
		%sample_reservoir = #$sample_mass$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/mysteryGoo/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/mysteryGoo/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/mysteryGoo/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/mysteryGoo/duration$
		UPGRADES
		{
			UPGRADE
			{
				name__ = Goo-Storage-Upgrade
				techRequired__ = #$../../../@KERBALISM_HDD_SIZES/PRIVATE_DRIVES/MysteryGoo/UpgradeTech$
				sample_reservoir = #$../../#sample_reservoir$
				@sample_reservoir *= #$../../../@KERBALISM_HDD_SIZES/PRIVATE_DRIVES/MysteryGoo/SampleReservoirUpgrade$
			}
		}

	}

	@MODULE[Experiment]:HAS[#experiment_id[mobileMaterialsLab]]
	{
		%sample_mass = #$@KERBALISM_EXPERIMENT_VALUES/mobileMaterialsLab/SampleMass$
		%sample_reservoir = #$sample_mass$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/mobileMaterialsLab/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/mobileMaterialsLab/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/mobileMaterialsLab/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/mobileMaterialsLab/duration$
		UPGRADES
		{
			UPGRADE
			{
				name__ = MatBay-Storage-Upgrade
				techRequired__ = #$../../../@KERBALISM_HDD_SIZES/PRIVATE_DRIVES/MaterialsBay/UpgradeTech$
				sample_reservoir = #$../../#sample_reservoir$
				@sample_reservoir *= #$../../../@KERBALISM_HDD_SIZES/PRIVATE_DRIVES/MaterialsBay/SampleReservoirUpgrade$
			}
		}
	}

	@MODULE[Experiment]:HAS[#experiment_id[temperatureScan]]
	{
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/temperatureScan/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/temperatureScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/temperatureScan/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/temperatureScan/requirements$
	}

	@MODULE[Experiment]:HAS[#experiment_id[barometerScan]]
	{
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/barometerScan/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/barometerScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/barometerScan/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/barometerScan/requirements$
	}

	@MODULE[Experiment]:HAS[#experiment_id[seismicScan]]
	{
		%requires = Surface
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/seismicScan/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/seismicScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/seismicScan/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/seismicScan/requirements$
	}

	@MODULE[Experiment]:HAS[#experiment_id[gravityScan]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/gravityScan/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/gravityScan/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/gravityScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/gravityScan/duration$
	}

	@MODULE[Experiment]:HAS[#experiment_id[atmosphereAnalysis]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/atmosphereAnalysis/requirements$
		%sample_collecting = True
		%sample_reservoir = 0
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/atmosphereAnalysis/ECCost$
		%sample_mass = #$@KERBALISM_EXPERIMENT_VALUES/atmosphereAnalysis/SampleMass$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/atmosphereAnalysis/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/atmosphereAnalysis/duration$
	}

	// @MODULE[Experiment]:HAS[#experiment_id[asteroidSample]]											//needs proper implementation before this can work.
	// {
		// %sample_collecting = True
		// %sample_mass = #$@KERBALISM_EXPERIMENT_VALUES/asteroidSample/SampleMass$
		// %sample_reservoir = 0
		// %ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/asteroidSample/ECCost$
		// %data_rate = #$@KERBALISM_EXPERIMENT_VALUES/asteroidSample/size$
		// @data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/asteroidSample/duration$
		// %requires = #$@KERBALISM_EXPERIMENT_VALUES/asteroidSample/requirements$
	// }

	@MODULE[Experiment]:HAS[#experiment_id[infraredTelescope]]
	{
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/infraredTelescope/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/infraredTelescope/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/infraredTelescope/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/infraredTelescope/requirements$
	}

	@MODULE[Experiment]:HAS[#experiment_id[geigerCounter]]
	{
		%experiment_desc = Let's look at the radiation levels out there.
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/geigerCounter/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/geigerCounter/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/geigerCounter/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/geigerCounter/requirements$
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[surfaceSample]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[crewReport]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/crewReport/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/crewReport/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[evaReport]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/evaReport/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/evaReport/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[mysteryGoo]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/mysteryGoo/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/mysteryGoo/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[mobileMaterialsLab]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/mobileMaterialsLab/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/mobileMaterialsLab/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[temperatureScan]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/temperatureScan/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/temperatureScan/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[barometerScan]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/barometerScan/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/barometerScan/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[seismicScan]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/seismicScan/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/seismicScan/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[gravityScan]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/gravityScan/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/gravityScan/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[atmosphereAnalysis]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/atmosphereAnalysis/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/atmosphereAnalysis/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[asteroidSample]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/asteroidSample/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/asteroidSample/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[infraredTelescope]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/infraredTelescope/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/infraredTelescope/size$
	@dataScale /= #$baseValue$
}

@EXPERIMENT_DEFINITION:HAS[#id[geigerCounter]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/geigerCounter/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/geigerCounter/size$
	@dataScale /= #$baseValue$
}

// ============================================================================
// Animation fix for goo container & materials bay
// ============================================================================
@PART[GooExperiment,science_module]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	!MODULE[ModuleAnimateGeneric]		{}
	@MODULE[Experiment]
	{
		%anim_deploy = Deploy
	}
}
// ============================================================================
// Nerfing EC cost for EVA kerbals for surface sample, otherwise it's unuseable
// Done this way because of groups that include the surface sample.
// ============================================================================
@PART[kerbalEVA*]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@MODULE[Experiment]:HAS[#experiment_id[surfaceSample]]
	{
		@ec_rate /= #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/EVAMultiplier$
		@requires = #$@KERBALISM_EXPERIMENT_VALUES/surfaceSample/EVArequirements$
	}
}
// ============================================================================
// Tweak some stock experiment parameters.
// ============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[surfaceSample]]:NEEDS[FeatureScience]:FOR[Kerbalism]    		{	@situationMask = 1
																								@biomeMask = 1								}
@EXPERIMENT_DEFINITION:HAS[#id[crewReport]]:NEEDS[FeatureScience]:FOR[Kerbalism]      		{	@biomeMask = 3 								}
@EXPERIMENT_DEFINITION:HAS[#id[evaReport]]:NEEDS[FeatureScience]:FOR[Kerbalism]    			{	@situationMask = 51
																								@biomeMask = 3								}
@EXPERIMENT_DEFINITION:HAS[#id[mysteryGoo]]:NEEDS[FeatureScience]:FOR[Kerbalism]    		{	@biomeMask = 0
																								@title = Goo Observation					}
@EXPERIMENT_DEFINITION:HAS[#id[mobileMaterialsLab]]:NEEDS[FeatureScience]:FOR[Kerbalism]    {	@biomeMask = 0 								}
@EXPERIMENT_DEFINITION:HAS[#id[gravityScan]]:NEEDS[FeatureScience]:FOR[Kerbalism]      		{	@biomeMask = 3 								}
@EXPERIMENT_DEFINITION:HAS[#id[atmosphereAnalysis]]:NEEDS[FeatureScience]:FOR[Kerbalism]  	{	@biomeMask = 5
																								@title = Atmospheric Composition Sample
																								@requireAtmosphere = True					}
@EXPERIMENT_DEFINITION:HAS[#id[geigerCounter]]:NEEDS[FeatureScience]:FOR[Kerbalism]       	{	@biomeMask = 3 								}
@EXPERIMENT_DEFINITION:HAS[#id[barometerScan]]:NEEDS[FeatureScience]:FOR[Kerbalism]       	{	@title = Pressure Scan
																								@requireAtmosphere = True
																								@situationMask = 15
																								@biomeMask = 7								}
// @EXPERIMENT_DEFINITION:HAS[#id[asteroidSample]]:NEEDS[FeatureScience]:FOR[Kerbalism]      {	@title = Asteroid Scan 									//needs proper implementation before this cna be patched
		//																						@biomeMask = 0								}


// ============================================================================
// Remove scientist bonus
// ============================================================================

@EXPERIENCE_TRAIT[Scientist]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	@desc = Scientists can reset experiments.
	@EFFECT[VesselScienceReturn] { @modifiers = 1, 1, 1, 1, 1 }
	@EFFECT[PartScienceReturn]   { @modifiers = 1, 1, 1, 1, 1 }
}

// ============================================================================
// Lab module satisfies stock contracts
// ============================================================================

@Contracts:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	@Base
	{
		@PART_REQUEST:HAS[#Module[ModuleScienceLab]] { @Module = Laboratory }
	}
	@Station
	{
		@PART_REQUEST:HAS[#Module[ModuleScienceLab]] { @Module = Laboratory }
	}
}

// ============================================================================
// Remove stock survey contracts
// ============================================================================

@Contracts:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	@Survey
	{
		@MaximumAvailable = 0
		@MaximumActive = 0
	}
}

// ============================================================================
// Replace stock lab with our own
// Labs are special snowflakes: they sample data twice as fast at 5 times the EC
// cost and bypass the need for experiment resets, but they require a scientist
// present at all times to operate. Scientist level configured below.
// Only affects the Laboratory Experiments Group.
// Also triples sample reservoir, for good measure.
// Labs get a selection of exclusive experiments + the ability to run Goo & MatBay
// ============================================================================
@PART[*]:HAS[@MODULE[ModuleScienceLab]]:NEEDS[FeatureScience]
{
	!MODULE[ModuleScienceLab] {}
	!MODULE[ModuleScienceConverter] {}

	MODULE
	{
		name = Laboratory
		researcher = Scientist
		analysis_rate = 0.005 // 5 kbps
		ec_rate = 1.0
	}

	MODULE
	{
		name = Configure
		title = Laboratory Experiments
		slots = 0
	}
}
@PART[*]:HAS[@MODULE[Configure]:HAS[#title[Laboratory?Experiments]]]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@MODULE[Experiment],*
	{
		@data_rate *= 2
		@ec_rate *= 5
		%crew_operate = Scientist
		!crew_reset = delete
	}

	//per experiment tweaks, also boosts sample reservoirs where appropriate
	@MODULE[Experiment]:HAS[#experiment_id[mysteryGoo]] 			{ 	%crew_operate = Scientist@1
																		@sample_reservoir *= 3
																		@UPGRADES	{	@UPGRADE {	@sample_reservoir = #$../../#sample_reservoir$
																									@sample_reservoir *= 5								}}}
	@MODULE[Experiment]:HAS[#experiment_id[mobileMaterialsLab]] 	{ 	%crew_operate = Scientist@2
																		@sample_reservoir *= 3
																		@UPGRADES	{	@UPGRADE {	@sample_reservoir = #$../../#sample_reservoir$
																									@sample_reservoir *= 3								}}}
}

// ============================================================================
//adds sensors to gravioli/radiation/temperature/pressure to all parts that use
//the stock experiments and do not already have one.
// ============================================================================

@PART[*]:HAS[!MODULE[Sensor],@MODULE[Experiment]:HAS[#experiment_id[geigerCounter]]]:NEEDS[FeatureScience]:FOR[zzzKerbalism]
{
	MODULE
	{
		name = Sensor
		type = radiation
	}
}
@PART[*]:HAS[!MODULE[Sensor],@MODULE[Experiment]:HAS[#experiment_id[gravityScan]]]:NEEDS[FeatureScience]:FOR[zzzKerbalism]
{
	MODULE
	{
		name = Sensor
		type = gravioli
	}
}
@PART[*]:HAS[!MODULE[Sensor],@MODULE[Experiment]:HAS[#experiment_id[temperatureScan]]]:NEEDS[FeatureScience]:FOR[zzzKerbalism]
{
	MODULE
	{
		name = Sensor
		type = temperature
	}
}
@PART[*]:HAS[!MODULE[Sensor],@MODULE[Experiment]:HAS[#experiment_id[sensorBarometer]]]:NEEDS[FeatureScience]:FOR[zzzKerbalism]
{
	MODULE
	{
		name = Sensor
		type = pressure
	}
}
