
// ============================================================================
// Nuking the experiment, because kerbalism already has it
// ============================================================================
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[telemetryReport]]]:NEEDS[CommunityTechTree,FeatureScience,ProbesBeforeCrew]:AFTER[ProbesBeforeCrew]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[telemetryReport]] {}
}

// ============================================================================
// Probe Cores
// ============================================================================

@PART[probeCoreSphere*]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 0.5
	}
}

@PART[probeCoreOcto*]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 1
	}
}

@PART[probeCoreHex*]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 2.5
	}
}

@PART[probeCoreOcto2*]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 8
	}
}

@PART[probeStackSmall]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 24
	}
}

@PART[probeCoreCube]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 6
	}
}

@PART[mk2DroneCore]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
  @MODULE[HardDrive]
  {
  	@dataCapacity = 64
  }
}

@PART[roverBody_v2]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 12
	}
}

@PART[probeStackLarge]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 128
	}
}

// ============================================================================
// Command Modules + cockpits
// ============================================================================

@PART[Mark1Cockpit]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 1
		@sampleCapacity = 1
	}
}

@PART[mk1pod_v2]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 2
		@sampleCapacity = 1
	}
}

@PART[landerCabinSmall]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 2
		@sampleCapacity = 3
	}
}

@PART[mk2LanderCabin*]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 8
		@sampleCapacity = 6
	}
}

@PART[cupola]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 4
		@sampleCapacity = 0
	}
}

@PART[mk2Cockpit*]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 6
		@sampleCapacity = 2
	}
}

@PART[mk1-3pod]:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[ProbesBeforeCrew]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 8
		@sampleCapacity = 6
	}
}

// TODO move habitat upgrades
// processes added to pods in engineering 101 and survivability should not happen before simple command modules)

// ============================================================================
// HDD Upgrades
// ============================================================================
// This isn't really PBC related and should go into a CTT config
@KERBALISM_HDD_SIZES:NEEDS[FeatureScience,ProbesBeforeCrew,CommunityTechTree]:AFTER[Kerbalism]
{
	@Upgrades
	{
		@DATA_CAPACITY_MULTIPLIERS
		{
			@FirstUpgradeTech = electrics
			@SecondUpgradeTech = electronics
			@ThirdUpgradeTech = experimentalElectrics
			@FourthUpgradeTech = highTechElectricalSystems
		}
	}
}
