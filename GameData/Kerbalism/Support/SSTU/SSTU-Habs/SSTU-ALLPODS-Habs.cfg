//remove the SSTUVolumeContainer to allow kerbalism to apply its volume for pods.

@PART[SSTU-LC*,SSTU-SC-A-DM,SSTU-SC-A-OM,SSTU-SC-B-CM*,SSTU-SC-C-CM*,SSTU-SC-V-CM]:NEEDS[Kerbalism,SSTU]
{
	!MODULE[SSTUVolumeContainer] {}	
}
//===================================================================================================================================================================
//individual part configs: adds the resources such as MP, EC, Hypergolic fuels, etc back to the pods at default configuration

//===================================================================================================================================================================
//LANDER PODS = configured with the default model with tanks (meaning they will have fuel). The model swap is Locked to tanks only, 
//as it's tied into the module removed above. 

@PART[SSTU-LC2-POD]:NEEDS[Kerbalism,SSTU]
{			
	!MODULE[SSTUResourceBoiloff] {} 		//lost the ability to swap fuels, LFO doesn't boil off, module not needed.
											//if fuel is swapped with any other mod, such as IFS(if you can do that in the first place), they should have their own boil off configs.	
	@MODULE[SSTUModelSwitch]				//snips off the no tank/bare model for "realism" purposes.
		{
		!MODEL,1 {}
		}
	
	RESOURCE
		{
			name = ElectricCharge
			amount = 375				
			@amount /= 2.8					//Kerbalism multiplies all EC with 2.8. Dividing now with 2.8 to keep original value at the end.
			maxAmount = 375
			@maxAmount /= 2.8
		}
		
	RESOURCE
		{
			name = MonoPropellant
			amount = 31.3
			maxAmount = 31.3
		}
		
	RESOURCE
		{
			name = LiquidFuel
			amount = 68.8
			maxAmount = 68.8
		}
		
	RESOURCE
		{
			name = Oxidizer
			amount = 84.2
			maxAmount = 84.2
		}
}

@PART[SSTU-LC3-POD]:NEEDS[Kerbalism,SSTU]
{			
	!MODULE[SSTUResourceBoiloff] {} 
	@MODULE[SSTUModelSwitch]				
		{
		!MODEL,1 {}
		}
		
	
	RESOURCE
		{
			name = ElectricCharge
			amount = 600
			@amount /= 2.8
			maxAmount = 600
			@maxAmount /= 2.8
		}
		
	RESOURCE
		{
			name = MonoPropellant
			amount = 50
			maxAmount = 50
		}
		
	RESOURCE
		{
			name = LiquidFuel
			amount = 191.3
			maxAmount = 191.3
		}
		
	RESOURCE
		{
			name = Oxidizer
			amount = 233.8
			maxAmount = 233.8
		}
}

@PART[SSTU-LC5-POD]:NEEDS[Kerbalism,SSTU]
{				
	!MODULE[SSTUResourceBoiloff] {} 
	@MODULE[SSTUModelSwitch]				
		{
		!MODEL,1 {}
		}
	
	RESOURCE
		{
			name = ElectricCharge
			amount = 600
			@amount /= 2.8
			maxAmount = 600
			@maxAmount /= 2.8
		}
		
	RESOURCE
		{
			name = MonoPropellant
			amount = 50
			maxAmount = 50
		}
		
	RESOURCE
		{
			name = LiquidFuel
			amount = 267.8
			maxAmount = 267.8
		}
		
	RESOURCE
		{
			name = Oxidizer
			amount = 327.3
			maxAmount = 327.3
		}
}

//===================================================================================================================================================================
//COMMAND PODS - same as above, adds back all the resources. 
//REGARDING RE-ENTRY CAPSULES (ones with integrated heatshield)
//The ablator size is tied into SSTUVolumeContainer, which was removed. Heatshield is working fine, though you get no selection of the size of the heatshield.
//(size of heatshield=increases the max amount of ablator)
//ablator size set to default configs. UI element (RMB in editor) is also gone. Not pretty, but at least it works.
//ablator values need some testing, i believe the size is too small for the larger capsules.

@PART[SSTU-SC-A-DM]:NEEDS[Kerbalism,SSTU]:AFTER[zzzKerbalism]
{	
	@MODULE[SSTUModularHeatShield]			//removes the choice of sizing the heatshield as it does nothing. the only value left is the default one, and the UI element disappears.
		{
		!SHIELDTYPE,1 {}
		!SHIELDTYPE,2 {}
		!SHIELDTYPE,3 {}
		}

	RESOURCE
		{
			name = Ablator
			amount = 24.9
			maxAmount = 24.9
		}
		
	RESOURCE
		{
			name = ElectricCharge
			amount = 150					//Default EC value.
			@amount /= 2.8					
			maxAmount = 150
			@maxAmount /= 2.8
		}
}

@PART[SSTU-SC-A-OM]:NEEDS[Kerbalism,SSTU]
{	
	RESOURCE
		{
			name = ElectricCharge
			amount = 150
			@amount /= 2.8
			maxAmount = 150
			@maxAmount /= 2.8
		}
}

@PART[SSTU-SC-B-CM]:NEEDS[Kerbalism,SSTU]
{				
	!MODULE[SSTUFuelSelection] {} 
	@MODULE[SSTUModularHeatShield]			
		{
		!SHIELDTYPE,0 {}
		!SHIELDTYPE,2 {}
		!SHIELDTYPE,3 {}
		}
		
	RESOURCE
		{
			name = Ablator
			amount = 398.3
			maxAmount = 398.3
		}
		
	RESOURCE
		{
			name = ElectricCharge
			amount = 450
			@amount /= 2.8
			maxAmount = 450
			@maxAmount /= 2.8
		}
		
	RESOURCE
		{
			name = Aerozine50
			amount = 85
			maxAmount = 85
		}
		
	RESOURCE
		{
			name = NTO
			amount = 85
			maxAmount = 85
		}
}

@PART[SSTU-SC-B-CMX]:NEEDS[Kerbalism,SSTU]
{				
	!MODULE[SSTUFuelSelection] {} 
	
	RESOURCE
		{
			name = ElectricCharge
			amount = 650
			@amount /= 2.8
			maxAmount = 650
			@maxAmount /= 2.8
		}
		
	RESOURCE
		{
			name = Aerozine50
			amount = 250
			maxAmount = 250
		}
		
	RESOURCE
		{
			name = NTO
			amount = 250
			maxAmount = 250
		}
}

@PART[SSTU-SC-C-CM]:NEEDS[Kerbalism,SSTU]
{				
	!MODULE[SSTUFuelSelection] {} 
	@MODULE[SSTUModularHeatShield]			
		{
		!SHIELDTYPE,0 {}
		!SHIELDTYPE,2 {}
		!SHIELDTYPE,3 {}
		}	
	RESOURCE
		{
			name = Ablator
			amount = 398.3
			maxAmount = 398.3
		}
		
	RESOURCE
		{
			name = ElectricCharge
			amount = 600
			@amount /= 2.8
			maxAmount = 600
			@maxAmount /= 2.8
		}
		
	RESOURCE
		{
			name = Aerozine50
			amount = 85
			maxAmount = 85
		}
		
	RESOURCE
		{
			name = NTO
			amount = 85
			maxAmount = 85
		}
}

@PART[SSTU-SC-C-CMX]:NEEDS[Kerbalism,SSTU]
{				
	!MODULE[SSTUFuelSelection] {} 
	
	RESOURCE
		{
			name = ElectricCharge
			amount = 650
			@amount /= 2.8
			maxAmount = 650
			@maxAmount /= 2.8
		}
		
	RESOURCE
		{
			name = Aerozine50
			amount = 250
			maxAmount = 250
		}
		
	RESOURCE
		{
			name = NTO
			amount = 250
			maxAmount = 250
		}
}

@PART[SSTU-SC-V-CM]:NEEDS[Kerbalism,SSTU]
{	
		@MODULE[SSTUModularHeatShield]			
		{
		!SHIELDTYPE,0 {}
		!SHIELDTYPE,2 {}
		!SHIELDTYPE,3 {}
		}
	RESOURCE
		{
			name = Ablator
			amount = 168
			maxAmount = 168
		}
		
	RESOURCE
		{
			name = ElectricCharge
			amount = 650
			@amount /= 2.8
			maxAmount = 650
			@maxAmount /= 2.8
		}
}