PART
{
  name = GeigerCounter
  module = Part
  author = Naazari1382
  mesh = kismcounter.mu
  rescaleFactor = 1
  node_attach = 0.0, 0.0, 0.0, 1.0, 0.0, 0.0
  TechRequired = engineering101
  entryCost = 2200
  cost = 900
  category = Science
  subcategory = 0
  title = Geiger Counter
  manufacturer = Muller and Sons
  description = Measure environment radiation.
  attachRules = 0,1,0,0,1
  mass = 0.005
  dragModelType = default
  maximum_drag = 0.2
  minimum_drag = 0.2
  angularDrag = 1
  crashTolerance = 8
  maxTemp = 1200
  PhysicsSignificance = 1
  bulkheadProfiles = srf
  tags = experiment heat research rerun re-run reus re-us redo re-do reset re-set science sensor radiation

  MODULE
  {
    name = Sensor
    type = radiation
  }

  MODULE
  {
    name = ModuleScienceExperiment
    experimentID = geigerCounter
    experimentActionName = Radiation Data
    resetActionName = Discard Radiation Data
    reviewActionName = Review Radiation Data

    useStaging = False
    useActionGroups = True
    hideUIwhenUnavailable = True
    rerunnable = True

    xmitDataScalar = 1.0
    interactionRange = 1.2

    usageReqMaskInternal = 1
    usageReqMaskExternal = -1

    dataIsCollectable = True
    collectActionName = Take Data
    interactionRange = 1.2
  }
}


// ============================================================================
// Add geiger counter to satellite contracts
// ============================================================================


@Contracts
{
  @Satellite
  {
    +PART_REQUEST:HAS[#Part[sensorThermometer]]
    {
      @PartDescription = geiger counter
      @Part = GeigerCounter
    }
  }
}


// ============================================================================
// Geiger experiment definition
// ============================================================================


EXPERIMENT_DEFINITION
{
  id = geigerCounter
  title = Radiation Data
  baseValue = 8
  scienceCap = 8
  dataScale = 1

  requireAtmosphere = False
  situationMask = 63
  biomeMask = 0

  RESULTS
  {
    default = Holy cow these results are amazing!.
  }
}


// ============================================================================
// Geiger experiment results for stock bodies
// ============================================================================


@EXPERIMENT_DEFINITION[*]:HAS[#id[geigerCounter]]
{
  @RESULTS
  {
    MohoSrfLanded = The Geiger counter agrees that Moho would be cooler with lava. The KSC has informed you that talking to the Geiger counter is strictly forbidden.
    EveSrfLanded = It seems that high radiation levels are the one thing you don't have to worry about on the surface of Eve.
    GillySrfLanded = You are having too much fun bouncing around to check the radiation levels.
    KerbinSrfLanded = Radiation levels are quite literally nominal here on Kerbin. Something must be blocking the radiation.
    MunSrfLanded = Radiation on the surface of the Mun is fairly high, any future habitation would require more shielding.
    MinmusSrfLanded = Looking at the radiation levels, you regret tasting the surface of Minmus.
    DunaSrfLanded = These results are critical for the development of a Duna colony. Shame if something were to happen to them...
    IkeSrfLanded = The surface contains a trace amount of radioactive compounds, R&D believed these are elements created by interactions between solar wind and Duna's atmosphere.
    DresSrfLanded = Cross referencing these results with surface samples, Dres seems to consist of a large amount of heavy, radioactive metals
    LaytheSrfLanded = Laythe's atmosphere and active core protect its surface from Jool's intense radiation belt, but the background radiation is significantly higher than Kerbin's
    VallSrfLanded = Vall is fortunate enough to not be located in Jool's radiation belt, but the radiation on the surface is still significant.
    TyloSrfLanded = The functioning magnetosphere Tylo possesses is enough to shield the planet from most of Jool's radiation, but its lack of atmosphere means a significant amount of radiation still reaches the surface
    BopSrfLanded = KSC warns against trying to locate the intense source of radiation they spotted from orbit.
    PolSrfLanded = It seems that Pol contains a large amount of radioactive Hydrogen and Helium isotopes, deposited by Jool over thousands of years.
    EelooSrfLanded = This far from Kerbol, much more interstellar radiation reaches the surface. This would be a great place for future study
    EveFlyingLow = Eve's thick atmosphere and large magnetosphere prevents any radiation from reaching this altitude.
    KerbinFlyingLow = The vibrations from your rocket make the dials unreadable, so you decide to make up the results.
    DunaFlyingLow = The atmosphere seems to block more radiation then originally predicted. This bodes well for future Duna missions.
    JoolFlyingLow = You go to check the Geiger counter, but it refuses to display a reading until you take it out of the atmosphere.
    LaytheFlyingLow = The oceans below emit an unexpected amount of radiation.
    EveFlyingHigh = You are too busy trying not to burn up in the atmosphere to look at the Geiger counter.
    KerbinFlyingHigh = The atmosphere is absorbing most of the radiations, even up there.
    DunaFlyingHigh = The atmosphere here is emitting large amounts of ionized particles.
    JoolFlyingHigh = The KSC has insured that your third eye is completely normal.
    LaytheFlyingHigh = The radiation from Jool produces interesting by-products when it bombards Laythe's atmosphere
    SunInSpaceLow = It's over 9000!!
    MohoInSpaceLow = R&D informs you that these results have contributed to a scientific breakthrough. You are too busy hugging the air conditioner to care.
    EveInSpaceLow = Eve's atmosphere emits strange ions that throw off your readings.
    GillyInSpaceLow = The radiation levels here flux because of Gilly's eccentric orbit and Eve's magnetosphere.
    KerbinInSpaceLow = The radiation environment up there is more complex than we throught. This should give R&D something new to study.
    MunInSpaceLow = You notice a steady pulse of radiation as you pass over the dark side of the Mun. It's probably nothing.
    MinmusInSpaceLow = The results indicate that Minmus has large amounts of radioactive compounds mixed within the icy crust.
    DunaInSpaceLow = The sun is stripping away Duna's fragile atmosphere, as Duna is emitting a stream of ionized particles.
    IkeInSpaceLow = Ike's close orbit and tidally locked state means that when you are over the side of Ike facing Duna the radiation levels drop immensely.
    DresInSpaceLow = The Geiger counter has detected large amounts of radiation originating from Dres.
    JoolInSpaceLow = KSC has advised that you will not be allowed to return for fear that you will contaminate the rest of Kerbalkind
    LaytheInSpaceLow = As you look down at the beautiful ocean below, you forget that you are slowly dying of radiation poisoning.
    VallInSpaceLow = Amazingly, the radiation levels are at a reasonable level.
    TyloInSpaceLow = The subtle magnetosphere of Tylo acts as a generator, magnifying Jool's already intense radiation field.
    BopInSpaceLow = Bop has an abnormally high amount of radiation that seems to be pin-pointed at 68 degrees north, 114 degrees east. Strange
    PolInSpaceLow = The space around Pol is filled with radioactive ions that have been unfortunate enough to be caught by Jool's magnetosphere.
    EelooInSpaceLow = R&D is keen to study what effects the large amount of interstellar radiation has done to the surface of Eeloo.
    SunInSpaceHigh = The KSC informs you that they *may* have forgotten to add the shielding.
    MohoInSpaceHigh = The radiation from the sun has picked up dramatically over the course of your journey.
    EveInSpaceHigh = You are not looking forward to traveling through Eve's radiation belt.
    GillyInSpaceHigh = You refuse to check the radiation levels unless the KSC stops making Potato puns.
    KerbinInSpaceHigh = This place is dangerous.
    MunInSpaceHigh = You crossed Kerbin's radiation belt, and did not die. You worry that this will spawn a bunch of crazy conspiracy theories.
    MinmusInSpaceHigh = You pick up an abnormal amount of radiation, but can't figure out the origin.
    DunaInSpaceHigh = Duna doesn’t seem to have a magnetosphere, so cosmic radiation will be a problem for future Duna missions.
    IkeInSpaceHigh = Unexpectedly, Ike appears to be magnetic enough to mess with the ion's striped from Duna's atmosphere.
    DresInSpaceHigh = In the asteroid, nobody can hear you face palm when you realise that you forgot the Geiger counter.
    JoolInSpaceHigh = The radiation being emitter from Jool is a staggering amount, and you start to wish you were on the Duna exploration mission.
    LaytheInSpaceHigh = Laythe is, incredibly, putting up a large resistance to the onslaught of Jool's radiation belt. God speed Laythe. God speed.
    VallInSpaceHigh = Even though Vall isn't located in the main radiation belt, it is still viciously punished by Jool's radiation.
    TyloInSpaceHigh = The radiation from Jool forms an intense belt around Tylo, but luckily it doesn’t look like much reaches the surface. But much is a relative term.
    BopInSpaceHigh = Bop actually seems to be a source of intense radiation, but amongst Jool's radiation field, it doesn’t appear significant.
    PolInSpaceHigh = Pol is far enough away from Jool that it receives ionized isotopes sourced from Jool's magnetosphere and interplanetary gas.
    EelooInSpaceHigh = As Kerbol's influence weakens, interstellar radiation becomes much more pronounced. The secrets of the galaxy lay open to you.
  }
}


// ============================================================================
// Geiger experiment results for OPM
// ============================================================================


@EXPERIMENT_DEFINITION[*]:HAS[#id[geigerCounter]]:NEEDS[OPM]
{
  @RESULTS
  {
    SarnusFlyingLow = You go to check the Geiger count- HOLY SH- <KSC regrets to inform you that the rest of the report is not available>
    SarnusFlyingHigh = It appears that this time you only have grown half an eye. Improvement!
    SarnusInSpaceLow = KSC has decided to accept your reading of 'less cancer than Jool' as an acceptable level of radiation.
    SarnusInSpaceHigh = Early predictions of conditions closer to Sarnus indicate that the radiation will be slightly less than Jool. Slightly being the key word.
    HaleSrfLanded = Such a small body amidst Sarnus' intense radiation belt has had strange effects on the little moon's surface. But god damn its hard to land on this thing.
    HaleInSpaceLow = Hale has no effect on the intense radiation belt Sarnus possesses. Radiation seems to pass right through the moon.
    HaleInSpaceHigh = The view of Sarnus' majestic rings cause you to forget to check the Geiger counter. KSC seems to have forgotten too.
    OvokSrfLanded = Ovok's sparse, icy surface absorbs ionised isotopes from Sarnus' magnetosphere very willingly.
    OvokInSpaceLow = This strange moon's surface reflects X-Rays from Sarnus' magnetosphere.
    OvokInSpaceHigh = Space around Ovok is filled with charged particles. R&D is investigating a possible use for them.
    EelooSrfLanded = You could have sworn you detected large amounts of interstellar radiation last time a radiation scan was done.
    EelooInSpaceLow = The Geiger counter has detached itself from the wall and has began dancing. KSC assures you it's just a symptom of radiation exposure.
    EelooInSpaceHigh = KSC says Eeloo sits between Sarnus' inner and outer radiation belt, so it receives slightly less radiation. Your hairloss says differently.
    SlateSrfLanded = It seems that Slate might actually have a feeble magnetosphere! If only we could strengthen it...
    SlateInSpaceLow = The ions left behind here are the same as what was found in Sarnus' rings!
    SlateInSpaceHigh = Previously, R&D proposed that Slate lost its atmosphere to radiation. These results have validated this theory.
    TektoSrfLanded = Tekto's surface radiation levels are nearly as low as Kerbin!
    TektoFlyingLow = The atmosphere of Tekto is remarkably good at shielding the surface from radiation. The is likely due to high pressure and composition.
    TektoFlyingHigh = Sarnus' magnetosphere ionises Tekto's think atmosphere in strange ways.
    TektoInSpaceLow = The beautiful scenic views of Sarnus and Titan temporarily cease R&D's insistence on checking the Geiger counter.
    TektoInSpaceHigh = Sarnus' radiation influence has dropped to a lower than expected level.
    UrlumFlyingLow = Urlum has a strange convective fluid in it's lower atmosphere that disrupts the magnetosphere.
    UrlumFlyingHigh = The internal dynamo of Urlum is very different from other gas giants. R&D wants to further study this, but you just want to get back to Kerbin.
    UrlumInSpaceLow = The detected magnetosphere of Urlum is relatively low for a gas giant. It will still give you cancer on your cancer though...
    UrlumInSpaceHigh = Interestingly, Urlum's magnetosphere is tilted away from the axis of rotation.
    PoltaSrfLanded = You remember the poor soul who tried to eat Minmus' surface and quickly died from radiation poisoning. But it looks so tasty...
    PoltaInSpaceLow = Like Minmus, Polta appears to have a significant concentration of radioactive heavy metals in it's crust.
    PoltaInSpaceHigh = Radiation levels have been steadily rising as you get closer to Polta.
    PriaxSrfLaned = At the distance from Urlum Priax is, it should be receiving much higher radiation levels.
    PriaxInSpaceLow = Priax's leading side receives significantly more radiation than it's trailing side. Wonder why...
    PriaxInSpaceHigh = Urlum's variable magnetosphere means that the radiation levels on Priax vary at different point in it's (and Polta's) orbit.
    WalSrfLanded = Wal being so far away from Urlum receives next to no radiation from the gas giant. But by the same reason, it receives much more interplanetary radiation.
    WalInSpaceLow = As you pass orbit Wal, you detect a sudden surge of radiation, the source which seems to also orbit Wal.
    WalInSpaceHigh = Urlum's magnetosphere barely has a presence here!
    TalSrfLanded = Tal's heavy metal composition is more than a quarter radioactive metals!
    TalInSpaceLow = The radiation originating from Tal is the highest ever recorded originating from a terrestrial planet
    TalInSpaceHigh = With a sudden shock, you realise that the intense source of radiation is Tal, owing to it's heavy metal composition.
    NeidonFlyingLow = You are just happy this is the last gas planet you have to do this for. And the last time you will be exposed to so much cancer causing radiation.
    NeidonFlyingHigh = Neidon's magnetosphere is even more disrupted than Urlum's. R&D says this will contribute to finding out the composition of Neidon. Somehow.
    NeidonInSpaceLow = You wistfully remember the days on Kerbin, where you didn't get exposed to nuclear war level radiation daily.
    NeidonInSpaceHigh = Neidon has an even more tilted magnetosphere than Urlum. It's also weaker than originally expected.
    ThatmoSrfLanded = Thatmo's surface receives less radiation than previously expected. But it's still a significant amount.
    ThatmoFlyingLow = You are to busy trying to keep yourself in the air to check the Geiger counter. KSC is not impressed.
    ThatmoFlyingHigh = Thatmo's atmosphere is so thin that it has next to no effect on the surrounding radiation.
    ThatmoInSpaceLow = Thatmo receives varying radiation levels as it completes it's orbit, due to Neidon's varying magnetosphere.
    ThatmoInSpaceHigh = Maybe it was a bad idea to power the Geiger counter using solar panels.
    NisseeSrfLanded = The fluctuating radiation levels combined with Nissee's naturally radioactive surface lead to a radiation heavy environment.
    NisseeInSpaceLow = You begin detecting radiation sources all over Nissee's surface. KSC warns against landing on any of them.
    NisseeInSpaceHigh = R&D hypothesises than Nissee, because of it's eccentric orbit and Neidon's axial tilt, will have extremely varying radiation levels.
    PlockSrfLanded = Plock's surface composition has been scared by the interstellar radiation it receives.
    PlockInSpaceLow = The radiation signature of Kerbol is barely stronger than the millions of other stars you are enthralled with.
    PlockInSpaceHigh = As Kerbol's influence weakens, interstellar radiation becomes much more pronounced. The secrets of the galaxy lay open to you.
    KarenSrfLanded = The surface of Karen is seeded with radioactive interstellar particles. You are stunned by the distance they would have had to have travelled.
    KarenInSpaceLow = This far from Kerbol, you can detect interstellar radiation so easily you can pin-point stars Kerbals had yet to discover.
    KarenInSpaceHigh = The Barycentre of the Plock-Karen system has a tiny amount of radioactive gas orbiting it. Weird.
  }
}


